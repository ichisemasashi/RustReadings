# ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆ {#ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆ .View_chapterTitle__tslMs}

## [](#%F0%9F%93%8C-%E3%82%B3%E3%83%94%E3%83%BC%E3%83%88%E3%83%AC%E3%82%A4%E3%83%88){.header-anchor-link} ğŸ“Œ ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆ {#%F0%9F%93%8C-%E3%82%B3%E3%83%94%E3%83%BC%E3%83%88%E3%83%AC%E3%82%A4%E3%83%88}

Rust ã«ã¯ **ãƒˆãƒ¬ã‚¤ãƒˆ**
ï¼ˆtraitï¼‰ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿å‹ã‚’åˆ†é¡ã™ã‚‹æ¦‚å¿µãŒã‚ã‚Šã¾ã™ï¼ä¾‹ãˆã°ï¼Œæ•°å€¤å…¨èˆ¬ã‚’è¡¨ã™
`Num`
ã¨ã„ã†ãƒˆãƒ¬ã‚¤ãƒˆãŒã‚ã£ãŸã¨ãï¼Œãã‚Œã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿å‹ã¯ã™ã¹ã¦æ•°å€¤å‹ã¨ã—ã¦åˆ†é¡ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼Œã¨ã„ã†ã‚‚ã®ã§ã™ï¼ãƒˆãƒ¬ã‚¤ãƒˆã«ã¯ç‰¹æœ‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼ã¾ãŸï¼Œã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã«ãŠã„ã¦ï¼Œã‚ã‚‹ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ãŸå‹ã§ã‚ã‚‹ã¨ã„ã†åˆ¶ç´„ã‚’ã‹ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼ã“ã‚Œã‚’
**ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ** ï¼ˆtrait boundï¼‰ã¨å‘¼ã³ã¾ã™ï¼

ãƒˆãƒ¬ã‚¤ãƒˆã¯æ¨™æº–ã§ã„ãã¤ã‹å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Šï¼Œãã®ï¼‘ã¤ãŒ
**ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆ** ï¼ˆCopy
Traitï¼‰ã§ã™ï¼æŸç¸›ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ãŸãƒ‡ãƒ¼ã‚¿å‹ã®å¤‰æ•°ã‹ã‚‰åˆ¥ã®å¤‰æ•°ã«æŸç¸›ã™ã‚‹ã¨ãã¯ï¼Œæ‰€æœ‰æ¨©ã¯ç§»å‹•ã›ãšï¼Œå€¤ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆãã—ã¦æ‰€æœ‰æ¨©ï¼‰ã‚’ä½œæˆã—ã¾ã™ï¼Rust
ã®ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ã¯ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼

::: code-block-container
``` language-rust
fn main() {
    let a = 10;            // immutable object
    let b = a;             // copy
    print!("{} {}", a, b); // borrow check!! - OK
}
```
:::

ä¸å¤‰å‚ç…§ (`&`) ã‚‚ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼

::: code-block-container
``` language-rust
fn main() {
    let a = 10;                  // immutable object
    let a_ref = &a;              // reference
    let a_ref_copy = a_ref;      // copy reference
    print!("{} {} {}", a, a_ref, a_ref_copy); // borrow check!! - OK
}
```
:::

æ³¨æ„ãªã®ãŒï¼Œå¯å¤‰å‚ç…§ (`&mut`)
ã¯ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã¾ã›ã‚“ï¼ãªãœãªã‚‰ï¼Œå¯å¤‰å‚ç…§ã¯ï¼‘ã¤ã—ã‹å­˜åœ¨ã—ã¦ã¯ã„ã‘ãªã„ã‹ã‚‰ã§ã™ï¼

::: code-block-container
``` language-rust
fn main() {
    let mut a = 10;                 // mutable object
    let a_mut_ref = &mut a;         // mutable reference
    let a_mut_ref_move = a_mut_ref; // move mutable reference
    print!("{}", a_mut_ref);        // borrow check!! - Error!
}
```
:::

æ¬¡ã®ã‚ˆã†ã«å¯å¤‰å‚ç…§ã®å ´åˆã¯ç§»å‹•ã—ã¾ã™ï¼

::: code-block-container
``` language-rust
fn main() {
    let mut a = 10;                 // mutable object
    let a_mut_ref = &mut a;         // mutable reference
    let a_mut_ref_move = a_mut_ref; // move mutable reference
    print!("{}", a_mut_ref_move);   // borrow check!! - OK
}
```
:::

ãƒ‡ãƒ¼ã‚¿å‹ãŒã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼èª¿ã¹ãŸã„å‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ã‚‹
`Trait Implementations` ã®ä¸­ã« `Copy`
ãŒã‚ã‚‹ã‹ã©ã†ã‹ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ï¼

![rust-copytrait-implementation](https://storage.googleapis.com/zenn-user-upload/ryxhp3bdp07212iu158s1wj7bcnz){.md-img
loading="lazy"}

ã¾ãŸï¼Œä¸‹è¨˜ã«ç¤ºã™é–¢æ•° `copy_trait_check`
ã§ã¯ï¼Œãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã‚’ä½¿ã£ã¦å¼•æ•°ã®å‹ãŒã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã“ã¨ã‚’åˆ¶ç´„ã—ã¾ã™ï¼å®Ÿè£…ã•ã‚Œã¦ã„ãªã‹ã£ãŸã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ï¼ã‚¨ãƒ©ãƒ¼ã‹ã‚‰åˆ†ã‹ã‚‹ã‚ˆã†ã«ï¼Œ
`String` å‹ã¯ã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ã¾ã›ã‚“ï¼

::: code-block-container
``` language-rust
fn copy_trait_check<T: Copy>(_: T) {} // trait bound

fn main() {
    let s = String::from("hello");    // String
    copy_trait_check(s);
                    // ^ the trait `Copy` is not implemented for `String`
                    // error[E0277]: the trait bound `String: Copy` is not satisfied
    let a = 10;          // i32
    copy_trait_check(a); // OK
}
```
:::

ä¸å¤‰æŸç¸›ã®å¤‰æ•°ã‹ã‚‰å¯å¤‰æŸç¸›ã®å¤‰æ•°ã«å¤‰ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼

![rust-ownership05](https://storage.googleapis.com/zenn-user-upload/09t17cvqsj3r7eifr14mh9xohu0q){.md-img
loading="lazy"}

å¤‰æ•° `a` ã‹ã‚‰å¤‰æ•° `b` ã«æ‰€æœ‰æ¨©ãŒç§»å‹•ã—ï¼Œå¯å¤‰ã«å¤‰ã‚ã‚Šã¾ã™ï¼ãã—ã¦ï¼Œå¤‰æ•°
`a`
ã®æŸç¸›ã¯è§£é™¤ã•ã‚Œã¾ã™ï¼ã‚‚ã—ï¼Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚³ãƒ”ãƒ¼ãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…ã—ã¦ã„ãŸã‚‰ã‚³ãƒ”ãƒ¼ãŒä½œæˆã•ã‚Œï¼Œå¤‰æ•°
`a` ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŸç¸›ã—ãŸã¾ã¾ã§ï¼Œå¤‰æ•° `b`
ã«ã¯æ–°ã—ã„å¯å¤‰ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæŸç¸›ã•ã‚Œã¾ã™ï¼
:::
:::
:::

